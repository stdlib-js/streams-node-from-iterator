"use strict";var n=function(r,i){return function(){return i||r((i={exports:{}}).exports,i),i.exports}};var c=n(function(ne,N){N.exports={objectMode:!1,encoding:null,sep:"\n"}});var b=n(function(se,m){
var k=require('@stdlib/assert-is-plain-object/dist'),f=require('@stdlib/assert-has-own-property/dist'),x=require('@stdlib/assert-is-boolean/dist').isPrimitive,V=require('@stdlib/assert-is-nonnegative-number/dist').isPrimitive,g=require('@stdlib/assert-is-string/dist').isPrimitive,I=require('@stdlib/assert-is-function/dist'),s=require('@stdlib/error-tools-fmtprodmsg/dist');function W(r,i){return k(i)?f(i,"sep")&&(r.sep=i.sep,!g(r.sep))?new TypeError(s('1MF2W',"sep",r.sep)):f(i,"objectMode")&&(r.objectMode=i.objectMode,!x(r.objectMode))?new TypeError(s('1MF2o',"objectMode",r.objectMode)):f(i,"encoding")&&(r.encoding=i.encoding,!g(r.encoding)&&r.encoding!==null)?new TypeError(s('1MF7n',"encoding",r.encoding)):f(i,"highWaterMark")&&(r.highWaterMark=i.highWaterMark,!V(r.highWaterMark))?new TypeError(s('1MF4k',"highWaterMark",r.highWaterMark)):f(i,"serialize")&&(r.serialize=i.serialize,!I(r.serialize))?new TypeError(s('1MF6p',"serialize",r.serialize)):null:new TypeError(s('1MF2V',i));}m.exports=W
});var q=n(function(ue,p){
var B=require("debug"),F=B("from-iterator-stream");p.exports=F
});var h=n(function(oe,j){
var M=require("readable-stream").Readable,J=require('@stdlib/assert-has-own-property/dist'),P=require('@stdlib/assert-is-iterator-like/dist'),R=require('@stdlib/assert-is-error/dist'),y=require('@stdlib/assert-is-buffer/dist'),L=require('@stdlib/object-assign/dist'),A=require('@stdlib/utils-inherit/dist'),_=require('@stdlib/utils-define-nonenumerable-property/dist'),o=require('@stdlib/utils-define-nonenumerable-read-only-property/dist'),u=require('@stdlib/buffer-from-string/dist'),w=require('@stdlib/buffer-ctor/dist'),C=require('@stdlib/utils-next-tick/dist'),d=require('@stdlib/error-tools-fmtprodmsg/dist'),D=c(),G=b(),t=q();function U(){var r,i,e;if(!this._destroyed)for(r=!0;r;){if(e=this._iterator.next(),this._i+=1,e.done)return J(e,"value")&&(e=e.value,t("Value: %s. Iter: %d.",JSON.stringify(e),this._i),this._objectMode===!1&&(e=this._serialize(e),typeof e=="string"?(this._i===1?e=u(e):e=u(this._sep+e),this.push(e)):y(e)?(this._i>1&&(e=w.concat([u(this._sep),e])),this.push(e)):(i=new Error(d('1MFA9',e)),this.emit("error",i)))),t("Finished iteration."),this.push(null);if(e=e.value,t("Value: %s. Iter: %d.",JSON.stringify(e),this._i),this._objectMode===!1)if(e=this._serialize(e),typeof e=="string")this._i===1?e=u(e):e=u(this._sep+e);else if(y(e))this._i>1&&(e=w.concat([u(this._sep),e]));else{i=new Error(d('1MFA9',e)),this.emit("error",i);continue}r=this.push(e)}}function H(r){var i;if(this._destroyed)return t("Attempted to destroy an already destroyed stream."),this;return i=this,this._destroyed=!0,C(e),this;function e(){r&&(t("Stream was destroyed due to an error. Error: %s.",R(r)?r.message:JSON.stringify(r)),i.emit("error",r)),t("Closing the stream..."),i.emit("close")}}function a(r,i){var e,l;if(!(this instanceof a))return arguments.length>1?new a(r,i):new a(r);if(!P(r))throw new TypeError(d('1MF3v',r));if(e=L({},D),arguments.length>1&&(l=G(e,i),l))throw l;return t("Creating a readable stream configured with the following options: %s.",JSON.stringify(e)),M.call(this,e),_(this,"_destroyed",!1),o(this,"_objectMode",e.objectMode),o(this,"_sep",e.sep),o(this,"_serialize",e.serialize||JSON.stringify),o(this,"_iterator",r),_(this,"_i",0),this}A(a,M);o(a.prototype,"_read",U);o(a.prototype,"destroy",H);j.exports=a
});var E=n(function(le,O){
var K=require('@stdlib/assert-is-plain-object/dist'),Q=require('@stdlib/error-tools-fmtprodmsg/dist'),X=require('@stdlib/object-assign/dist'),Y=h();function Z(r,i){var e;if(arguments.length>1){if(e=i,!K(e))throw new TypeError(Q('1MF2V',e));e=X({},i)}else e={};return e.objectMode=!0,new Y(r,e)}O.exports=Z
});var z=n(function(fe,S){
var $=require('@stdlib/object-assign/dist'),ee=h();function re(r){var i;return arguments.length?i=$({},r):i={},e;function e(l){return new ee(l,i)}}S.exports=re
});var T=require('@stdlib/utils-define-nonenumerable-read-only-property/dist'),v=h(),ie=E(),te=z();T(v,"objectMode",ie);T(v,"factory",te);module.exports=v;
/** @license Apache-2.0 */
//# sourceMappingURL=index.js.map
